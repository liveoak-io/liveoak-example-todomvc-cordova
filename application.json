{
  resources: {
    client: {
      type: 'aggregating-filesystem',
      config: {
        directory: "${io.liveoak.js.dir}"
      }
    },

    css: {
      type: 'aggregating-filesystem',
      config: {
        directory: "${io.liveoak.css.dir}"
      }
    },

    auth: {
      type: 'keycloak'
    },

    authz: {
      type: 'security',
      config: {
        "policies": [
          {
            "policyName" : "URIPolicy",
            "policyResourceEndpoint": "/todomvc-cordova/uri-policy/authzCheck"
          },
          {
            "policyName" : "ACLPolicy",
            "policyResourceEndpoint": "/todomvc-cordova/acl-policy/authzCheck",
            "includedResourcePrefixes": [ "/todomvc-cordova/storage" ]
          }
        ]
      }
    },

    acl-policy: {
      type: 'acl-policy',
      config: {
        autoRules: [
          {
            resourcePath: "/todomvc-cordova/storage/todos",
            autoAddedOwnerPermissions: [ "READ", "UPDATE", "DELETE" ]
          }
        ]
      }
    },

    uri-policy: {
      type: 'uri-policy',
      config: {
        rules: [
          {
            uriPattern: "/todomvc-cordova",
            requestTypes: [ "READ" ],
            allowedUsers: [ "*" ]
          },
          {
            uriPattern: "/todomvc-cordova/app*",
            requestTypes: [ "READ" ],
            allowedUsers: [ "*" ]
          },
          {
            uriPattern: "/todomvc-cordova/client*",
            requestTypes: [ "READ" ],
            allowedUsers: [ "*" ]
          },
          {
            uriPattern: "/todomvc-cordova/storage/todos",
            requestTypes: [ "CREATE", "READ" ],
            allowedRoles: [ "todomvc-cordova/user", "todomvc-cordova/admin" ]
          },
          {
            uriPattern: "/todomvc-cordova/storage/todos/*",
            requestTypes: [ "READ", "UPDATE", "DELETE" ],
            allowedRoles: [ "todomvc-cordova/admin" ]
          }
        ]
      }
    },

    storage: {
      type: 'mongo',
      config: {
        db: 'todomvc',
        servers: [
          {
            host: 'localhost',
            port: 27017
          }
        ]
      }
    }

  }
}
